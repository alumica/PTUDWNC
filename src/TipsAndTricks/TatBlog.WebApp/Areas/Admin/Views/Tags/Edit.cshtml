@model TatBlog.WebApp.Areas.Admin.Models.CategoryEditModel

@{
	ViewData["PageTitle"] = "Thêm/Cập nhật chuyên mục";
}

<h1>Thêm/Cập nhật chuyên mục</h1>

<form asp-area="Admin"
	asp-controller="Categories"
	asp-action="Edit"
	enctype="multipart/form-data"
	method="post">
	
	<div asp-validation-summary="ModelOnly"></div>
	<input type="hidden" asp-for="Id"/>

	<div class="row mb-3">
		<label asp-for="Name"
			class="col-sm-2 col-form-label"></label>
		<div class="col-sm-10">
			<input type="text" class="form-control" asp-for="Name" />
			<span asp-validation-for="Name"
				class="text-danger"></span>
		</div>
	</div>

	<div class="row mb-3">
		<label asp-for="UrlSlug"
			class="col-sm-2 col-form-label"></label>
			<div class="col-sm-10">
				<input type="text" class="form-control" asp-for="UrlSlug" />
				<span asp-validation-for="UrlSlug"
					class="text-danger"></span>
			</div>
	</div>

	<div class="row mb-3">
		<label asp-for="Description"
	  class="col-sm-2 col-form-label"></label>
		<div class="col-sm-10">
			<textarea class="form-control" rows="15"
					  asp-for="Description"></textarea>
			<span asp-validation-for="Description"
	  class="text-danger"></span>
		</div>
	</div>

	<div class="row mb-3">
		<label asp-for="ShowOnMenu" class="col-sm-2 col-form-label"></label>
			<div class="col-sm-10">
				<input class="form-check-input"
					type="checkbox"
					   asp-for="ShowOnMenu" />
			</div>
	</div>

	<div class="text-center">
		<button type="submit" class="btn btn-primary">
			Lưu các thay đổi
		</button>

		<a asp-area="Admin"
			asp-controller="Categories"
			asp-action="Index"
			class="btn btn-danger">
			Hủy & Quay lại 
		</a>
	</div>
</form>

@section scripts
{
	<partial name="_ValidationScriptsPartial" />

	<script src="~/lib/speakingurl/speakingurl.min.js"></script>

	<script>
		$(function() {
			$('#Name').change(function () {
				var slug = getSlug(this.value);
				$('#UrlSlug').val(slug).trigger('blur');
			})
		});
	</script>
}